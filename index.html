<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="stylesheet" href="https://unpkg.com/turretcss/dist/turretcss.min.css" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment-with-locales.min.js"
        integrity="sha512-qSnlnyh7EcD3vTqRoSP4LYsy2yVuqqmnkM9tW4dWo6xvAoxuVXyM36qZK54fyCmHoY1iKi9FJAUZrlPqmGNXFw=="
        crossorigin="anonymous"></script>
    <title>Date Format Visualizer</title>
</head>

<body class="container">
    <h1>Date Format Visualizer</h1>
    <form>
        <p class="field">
            <label for="format-input">Date Format String</label>
            <input id="format-input" type="text" oninput="changeInput(event)" value="dddd, MMMM DD, YYYY, hh:mm:ss a z">
        </p>
        <p class="field">
            <label for="date-output">Formatted Date</label>
            <p class="display-title" id="date-output">Enter Format above</p>
        </p>
    </form>
    <script>
        let format = {}
        window.onload = function init() {
            let query = queryObject(window.location.search);
            const val = document.getElementById('format-input').value
            if (query.format) {
                document.getElementById('format-input').value = query.format
                changeInput(query.format)
            } else if (val) {
                changeInput(val)
            }
        }
        function changeInput(event) {
            const now = moment()
            const val = document.getElementById('format-input').value
            document.getElementById('date-output').innerHTML = now.format(val)
        }
        
      function queryObject(queryString) {
        let queryStrings = queryString.replace("?", "").split("&");
        let query = {};
        for (let i = 0, len = queryStrings.length; i < len; i++) {
          const parts = queryStrings[i].split("=");
          query[parts[0]] = parts[1];
        }
        return query;
      }
    </script>
</body>

</html>
